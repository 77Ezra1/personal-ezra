import { useSettings, Language } from '../store/useSettings'

const dict = {
  zh: {
    search: '搜索…',
    new: '新建',
    table: '表格',
    card: '卡片',
    importExport: '导入 / 导出',
    sites: '站点管理',
    docs: '文档',
    notes: '笔记',
    noteDescription: '使用 Markdown 编辑和预览你的个人笔记。',
    noteEditor: '编辑',
    notePreview: '预览',
    notePlaceholder: '开始使用 Markdown 记录吧…',
    noteEmptyPreview: '暂无内容可预览。',
    noteLastSaved: '上次保存',
    noteLastSavedNever: '尚未保存',
    noteSaving: '保存中…',
    noteLocked: '笔记已加密，请解锁以查看或编辑。',
    noteUnlockPrompt: '请解锁主密码以继续，或前往设置配置主密码。',
    noteEncrypted: '已加密',
    noteUnencrypted: '未加密',
    noteLoading: '笔记加载中…',
    vault: '密码管理',
    dashboard: '工作台',
    settings: '设置',
    tags: '标签',
    noTags: '（暂无标签）',
    view: '自定义视图',
    default: '默认',
    list: '列表',
    language: '语言',
    master: '设置主密码',
    save: '保存',
    cancel: '取消',
    chinese: '中文',
    english: 'English',
    comingSoon: '敬请期待',
    searchPlaceholder: '搜索（text、#标签、type:site|password|doc、url:、is:star）',
    results: '结果',
    lock: '锁定',
    unlock: '解锁',
    logout: '退出登录',
    createSitePrefix: '新建网站：',
    pressEnter: '回车',
    passwords: '密码',
    open: '打开',
    visit: '前往',
    locate: '定位',
    noResults: '没有匹配结果',
    enterMaster: '请输入主密码',
    confirmMaster: '请再次输入主密码',
    enterCaptcha: '请输入验证码',
    masterMismatch: '你两次输入的主密码不一致',
    captchaError: '你输入的验证码有误',
    wrongMaster: '主密码错误',
    unlockVaultPrompt: '请输入主密码以解锁密码管理库',
    site: '站点',
    doc: '文档',
    title: '标题',
    pathOrSource: '路径/来源',
    file: '文件',
    actions: '操作',
    edit: '编辑',
    delete: '删除',
    deleteSelected: '删除已选',
    clearSelection: '清除选择',
    newDoc: '新建文档',
    editDoc: '编辑文档',
    newSite: '新建网站',
    editSite: '编辑网站',
    newPassword: '新建密码',
    editPassword: '编辑密码',
    copyPassword: '复制密码',
    copyUsername: '复制账户',
    account: '网站/标签',
    username: '用户名/账户',
    password: '密码',
    url: '地址',
    description: '备注',
    optional: '可选',
    optionalUrl: '可选 https://...',
    enterTitleAndUrl: '请填写标题和地址',
    copySuffix: ' 副本',
    masterWarning: '主密码仅展示一次，如若丢失无法恢复，请妥善保管',
    ok: '好的',
    type: '类型',
    noData: '暂无数据',
    backupMnemonic: '备份助记词',
    mnemonic: '助记词',
    forgotPassword: '忘记密码',
    mnemonicError: '助记词错误',
    mnemonicTip: '请手抄助记词，禁止截图或复制',
    online: '在线',
    offline: '离线',
    networkRequired: '需要网络连接'
  },
  en: {
    search: 'Search…',
    new: 'New',
    table: 'Table',
    card: 'Card',
    importExport: 'Import / Export',
    sites: 'Sites',
    docs: 'Docs',
    notes: 'Notes',
    noteDescription: 'Write personal notes with Markdown and live preview.',
    noteEditor: 'Editor',
    notePreview: 'Preview',
    notePlaceholder: 'Start writing in Markdown…',
    noteEmptyPreview: 'Nothing to preview yet.',
    noteLastSaved: 'Last saved',
    noteLastSavedNever: 'Not saved yet',
    noteSaving: 'Saving…',
    noteLocked: 'This note is encrypted. Unlock to view or edit it.',
    noteUnlockPrompt: 'Unlock with your master password or visit settings to configure one.',
    noteEncrypted: 'Encrypted',
    noteUnencrypted: 'Not encrypted',
    noteLoading: 'Loading note…',
    vault: 'Password Management',
    dashboard: 'Dashboard',
    settings: 'Settings',
    tags: 'Tags',
    noTags: '(no tags)',
    view: 'Default View',
    default: 'Default',
    list: 'List',
    language: 'Language',
    master: 'Set Master Password',
    save: 'Save',
    cancel: 'Cancel',
    chinese: 'Chinese',
    english: 'English',
    comingSoon: 'Coming soon',
    searchPlaceholder: 'Search (text, #tag, type:site|password|doc, url:, is:star)',
    results: 'Results',
    lock: 'Lock',
    unlock: 'Unlock',
    logout: 'Log out',
    createSitePrefix: 'Create site:',
    pressEnter: 'Enter',
    passwords: 'Passwords',
    open: 'Open',
    visit: 'Visit',
    locate: 'Locate',
    noResults: 'No matching results',
    enterMaster: 'Enter master password',
    confirmMaster: 'Re-enter master password',
    enterCaptcha: 'Enter verification code',
    masterMismatch: 'The two master passwords do not match',
    captchaError: 'Incorrect verification code',
    wrongMaster: 'Incorrect master password',
    unlockVaultPrompt: 'Enter master password to unlock the vault',
    site: 'Site',
    doc: 'Doc',
    title: 'Title',
    pathOrSource: 'Path/Source',
    file: 'File',
    actions: 'Actions',
    edit: 'Edit',
    delete: 'Delete',
    deleteSelected: 'Delete selected',
    clearSelection: 'Clear selection',
    newDoc: 'New Document',
    editDoc: 'Edit Document',
    newSite: 'New Site',
    editSite: 'Edit Site',
    newPassword: 'New Password',
    editPassword: 'Edit Password',
    copyPassword: 'Copy password',
    copyUsername: 'Copy username',
    account: 'Site/Label',
    username: 'Username/Account',
    password: 'Password',
    url: 'URL',
    description: 'Description',
    optional: 'Optional',
    optionalUrl: 'Optional https://...',
    enterTitleAndUrl: 'Please fill title and URL',
    copySuffix: ' copy',
    masterWarning: 'The master password is shown only once. If lost, it cannot be recovered. Please keep it safe',
    ok: 'OK',
    type: 'Type',
    noData: 'No data',
    backupMnemonic: 'Backup Mnemonic',
    mnemonic: 'Mnemonic',
    forgotPassword: 'Forgot Password',
    mnemonicError: 'Incorrect mnemonic',
    mnemonicTip: 'Write down the mnemonic. Do not screenshot or copy it.',
    online: 'Online',
    offline: 'Offline',
    networkRequired: 'Network required'
  }
}

export type TKey = keyof typeof dict['zh']

export function translate(lang: Language, key: TKey): string {
  const d = dict[lang as keyof typeof dict] ?? dict.en
  return d[key] ?? dict.en[key] ?? key
}

export function useTranslation() {
  const lang = useSettings(s => s.language)
  return (key: TKey) => translate(lang, key)
}
